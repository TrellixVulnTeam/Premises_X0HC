<ion-header>

    <ion-navbar>
        <ion-title>Submit Your Property</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <!-- <p>Currently submitting a property in <b>{{ suburb.suburb }}, {{ suburb.metro }}.</b></p> -->
    <hr>
    <form [formGroup]="propertySubmissionForm" (submit)="submitProperty()">
        <ion-label><b><u>General Details:</u></b></ion-label>
        <!-- <ion-item no-lines>
            <ion-label floating>Full Name:</ion-label>
            <ion-input formControlName="suburb" type="text"></ion-input>
        </ion-item> -->
        <ion-item hidden no-lines>
            <ion-label floating>Email Address:</ion-label>
            <ion-input formControlName="userEmail" type="text" value="{{(profile | async)?.email}}">{{(profile | async)?.email}}</ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Full Name:</ion-label>
            <ion-input formControlName="fullName" type="text"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Agency Name:</ion-label>
            <ion-input formControlName="agencyName" type="text"></ion-input>
        </ion-item>
        <hr>
        <ion-list radio-group formControlName="premisesType">
            <ion-label><b><u>Premises Type:</u></b></ion-label>
            <ion-item no-lines>
                <ion-label>Mini factory up to 500sqm</ion-label>
                <ion-radio item-left type="radio" value="Mini factory up to 500sqm"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>A Factory/Warehouse over 500sqm</ion-label>
                <ion-radio item-left type="radio" value="A factory/warehouse over 500 sqm"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Offices</ion-label>
                <ion-radio item-left type="radio" value="Offices"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Retail</ion-label>
                <ion-radio item-left type="radio" value="Retail"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>A mixed use building</ion-label>
                <ion-radio item-left type="radio" value="A mixed use building"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>A stand alone house to be used as offices</ion-label>
                <ion-radio item-left type="radio" value="A stand alone house to be used as offices"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Other</ion-label>
                <ion-radio item-left type="radio" value="Other"></ion-radio>
            </ion-item>
            <ion-input formControlName="otherProperty" type="text" placeholder="Description of property if other."></ion-input>
        </ion-list>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Property Address:</u></ion-label>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Unit Number:</ion-label>
            <ion-input formControlName="unitNumber" type="text"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Complex Name:</ion-label>
            <ion-input formControlName="complexName" type="text"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Street Number:</ion-label>
            <ion-input formControlName="streetNumber" type="text"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Street Name:</ion-label>
            <ion-input formControlName="streetName" type="text"></ion-input>
        </ion-item>
        <!-- <ion-item hidden no-lines>
            <ion-label floating>Suburb/Town:</ion-label>
            <ion-input formControlName="suburb1" type="text" value=" {{ suburb.suburb }}">{{ suburb.suburb }}</ion-input>
        </ion-item>
        <ion-item hidden no-lines>
            <ion-label floating>City:</ion-label>
            <ion-input formControlName="city" type="text" value="{{ suburb.metro }}">{{ suburb.metro }}</ion-input>
        </ion-item> -->
        <!-- <ion-item no-lines>
            <ion-label floating>Province:</ion-label>
            <ion-input formControlName="province" type="text"></ion-input>
        </ion-item> -->
        <ion-item no-lines>
            <ion-label floating>Postal Code:</ion-label>
            <ion-input formControlName="postalCode" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>ERF Number:</ion-label>
            <ion-input formControlName="erf" type="text"></ion-input>
        </ion-item>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Property Sizes:</u></ion-label>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Factory/Warehouse Size (sqm):</ion-label>
            <ion-input formControlName="factorySize" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Office Size (sqm):</ion-label>
            <ion-input formControlName="officeSize" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Total Factory and Office Size (sqm):</ion-label>
            <ion-input formControlName="totalSize" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Shop Size (sqm) (If Retail):</ion-label>
            <ion-input formControlName="shopSize" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Undercover Parking (Bays):</ion-label>
            <ion-input formControlName="underCoverParking" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Open Parking (Bays):</ion-label>
            <ion-input formControlName="openParking" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Usable Yard (sqm):</ion-label>
            <ion-input formControlName="usableYard" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Size of ERF (sqm) (If Freehold):</ion-label>
            <ion-input formControlName="sizeOfERF" type="number"></ion-input>
        </ion-item>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Heights:</u></ion-label>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Floor to Roof in Factory/Warehouse:</ion-label>
            <ion-input formControlName="floorToCeilingHeights" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Height of Acccess Door (Roller Shutter):</ion-label>
            <ion-input formControlName="floorToCeilingHeights" type="number"></ion-input>
        </ion-item>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Truck Access:</u></ion-label>
        </ion-item>
        <ion-list radio-group formControlName="truckAccess">
            <ion-item no-lines>
                <ion-label>Rigid Trucks Be Offloaded at the premises</ion-label>
                <ion-radio item-left type="radio" value="Rigid Trucks Only"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Semi Trailers Be Offloaded at the premises</ion-label>
                <ion-radio item-left type="radio" value="Up To Semi Trucks"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Interlinks Be Offloaded at the premises</ion-label>
                <ion-radio item-left type="radio" value="Up To Interlinks"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>None of the above applies.</ion-label>
                <ion-radio item-left type="radio" value="No Truck Can Be Offloaded"></ion-radio>
            </ion-item>
        </ion-list>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Power:</u></ion-label>
        </ion-item>
        <ion-list radio-group formControlName="power">
            <ion-item no-lines>
                <ion-label>Single Phase</ion-label>
                <ion-radio item-left type="radio" value="Single Phase"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Three Phase</ion-label>
                <ion-radio item-left type="radio" value="Three Phase"></ion-radio>
            </ion-item>
        </ion-list>
        <ion-item no-lines>
            <ion-label floating>Amperage:</ion-label>
            <ion-input formControlName="amperage" type="number"></ion-input>
        </ion-item>
        <p>Please check your circuit breaker for the amperage.</p>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Overheads:</u></ion-label>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Rates (ZAR):</ion-label>
            <ion-input formControlName="rates" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Levy (ZAR):</ion-label>
            <ion-input formControlName="levy" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Contribution to Service Costs (ZAR):</ion-label>
            <ion-input formControlName="serviceCosts" type="number"></ion-input>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Other Overheads:</ion-label>
            <ion-input formControlName="otherOverheads" type="text"></ion-input>
        </ion-item>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Cost:</u></ion-label>
        </ion-item>
        <ion-item no-lines>
            <ion-label floating>Selling Price (ZAR):</ion-label>
            <ion-input formControlName="sellingPrice" type="number"></ion-input>
        </ion-item>
        <hr>
        <ion-item no-lines>
            <ion-label><u>VAT:</u></ion-label>
        </ion-item>
        <ion-list radio-group formControlName="VAT">
            <ion-item no-lines>
                <ion-label>Owner of Property is a VAT Vendor</ion-label>
                <ion-radio item-left type="radio" value="Owner Is A VAT Vendor"></ion-radio>
            </ion-item>
            <ion-item no-lines>
                <p>Transfer Duty Applies</p>
            </ion-item>
            <ion-item no-lines>
                <ion-label>Owner of Property is not a VAT Vendor</ion-label>
                <ion-radio item-left type="radio" value="Owner Is Not A VAT Vendor"></ion-radio>
            </ion-item>
            <ion-item>
                <p>Transaction Cannot Be Zero Rated</p>
            </ion-item>
        </ion-list>
        <hr>
        <ion-item no-lines>
            <ion-label><u>Property Description:</u></ion-label>
        </ion-item>
        <ion-textarea formControlName="description" placeholder="Describe the property here:"></ion-textarea>
        <hr>
        <ion-label><u>Upload Photos:</u></ion-label>
        <ion-item no-lines>
            <ion-input formControlName="imageUplaod" id="upimgfile" type="file"></ion-input>
        </ion-item>
        <hr>
        <button ion-button block type="submit">Submit Property For Review</button>
    </form>


    <ion-card *ngFor="let file of files | async">
        <ion-card-header>
            {{ file.created | date:'medium' }}
        </ion-card-header>

        <ion-card-content>

            <button ion-button block icon-left outline (click)="viewFile(file.url)">
        <ion-icon name="eye"></ion-icon>
        {{ file.fullPath }} <!--this is what you will need to be submitted for each image to the Firebase database for referencing later-->
      </button>


            <button ion-button block outline icon-left color="danger" (click)="deleteFile(file)">
        <ion-icon name="trash"></ion-icon> Delete
      </button>

        </ion-card-content>

    </ion-card>

    <ion-fab right bottom>
        <button ion-fab color="primary" (click)="addFile()">
      <ion-icon name="cloud-upload"></ion-icon>
    </button>
    </ion-fab>

    <!-- <ion-grid>
        <ion-row>
            <ion-col>
                <h3>Select files</h3>
                <input type="file" ng2FileSelect [uploader]="uploader" multiple /><br/>
            </ion-col>
            <ion-col>
                <h3>Upload queue</h3>
                <p>Queue length: {{ uploader?.queue?.length }}</p>
                <table class="table">
                    <tbody>
                        <tr *ngFor="let item of uploader.queue">
                            <td><strong>{{ item?.file?.name }}</strong></td>
                            <td *ngIf="uploader.isHTML5" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
                            <td *ngIf="uploader.isHTML5">
                                <progress id="progressbar" max="100" value="{{ item.progress }}"> </progress>
                                <div id="progressbarlabel">{{ item.progress }} %</div>
                            </td>
                            <td class="text-center">
                                <span *ngIf="item.isCancel"><ion-icon name="close-circle"></ion-icon></span>
                                <span *ngIf="item.isError"><ion-icon name="trash"></ion-icon></span>
                            </td>
                            <td nowrap>
                                <button ion-button icon-right *ngIf="!item.isSuccess" (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess">Upload<ion-icon name="cloud-upload"></ion-icon></button>
                                <button ion-button icon-right *ngIf="!item.isSuccess" (click)="item.remove()" [ngStyle]="{'background-color': '#D2691E'}">Cancel<ion-icon name="close-circle"></ion-icon></button>
                                <button ion-button icon-right *ngIf="!item.isSuccess" color="danger">Remove<ion-icon name="trash"></ion-icon></button>
                                <button ion-button icon-right *ngIf="item.isSuccess" [ngStyle]="{'background-color': 'Green'}">Image Uploaded!<ion-icon name="checkmark-circle-outline"></ion-icon></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div>
                    <div>
                        Queue progress:
                        <progress id="progressbar" [ngStyle]="{'background-color': 'Green'}" max="100" value="{{ uploader.progress }}"> </progress>
                        <div id="progressbarlabel">{{ uploader.progress }} %</div>
                    </div>
                    <button ion-button icon-right (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length">Upload all<ion-icon name="cloud-upload"></ion-icon></button>
                    <button ion-button icon-right (click)="uploader.cancelAll()" [ngStyle]="{'background-color': '#D2691E'}" [disabled]="!uploader.isUploading">Cancel all<ion-icon name="close-circle"></ion-icon></button>
                    <button ion-button icon-right color="danger" (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">Remove all<ion-icon name="trash"></ion-icon></button>
                    <button type="button" class="btn btn-warning btn-s" (click)="uploader.cancelAll()" [disabled]="!uploader.isUploading"></button>
                    <button type="button" class="btn btn-danger btn-s" (click)="uploader.clearQueue()" [disabled]="!uploader.queue.length">
                </button>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid> -->

    <h1>File Upload</h1>

    <input type="file" (change)="onFileSelected($event)" />
    <button type="button" (click)="onUpload()">Upload</button>

    <!-- <img ng-src="imagesrc" class="avatar" ng-click="uploadProfilePic()" />
    <button class="button button-primary" ng-click="uploadProfilePic()">Change Picture</button>
    <input type="file" accept="image/*" id="upload" /> -->

</ion-content>